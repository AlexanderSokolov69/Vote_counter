<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">
    <title>Welcome</title>
</head>
<body>
<div class="main-window">

    <form id="autoRefreshForm" method="GET">
<button class="my-button-top" type="submit"><img width="300" src="{{ url_for('static', filename='images/title.png') }}" alt=""/>
        </button>
    </form>
       {% if alert %}
    <div class="winner">!!! ПОЛУЧИ ПРИЗ !!!</div>
     {% else %}
    <div class="vote">Голосование не началось...</div>
    {% endif %}

        <div class="winner">
        {% if alert %}
            <img width="200" src="{{ url_for('static', filename='images/smile_like.png') }}" alt=""/>
     {% else %}
        <img width="280" src="{{ url_for('static', filename='images/voteflow-5555.png') }}" alt=""/>
    {% endif %}
    </div>

</div>
<script>
        document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('autoRefreshForm');
  let timer;

  // Функция сброса таймера
  function resetTimer() {
    clearTimeout(timer);
    timer = setTimeout(function() {
      // alert('Форма обновилась из‑за бездействия!');
      // form.reset(); // Очищаем все поля формы
      // Или можно сделать reload страницы:
      // location.reload();
      form.submit();
    }, 5000); // 5000 мс = 5 секунд
  }

  // Обработчики событий активности
  const activityEvents = [
    'mousemove',
    'keydown',
    'scroll',
    'click',
    'touchstart'
  ];

  activityEvents.forEach(function(event) {
    form.addEventListener(event, resetTimer);
  });

  // Запуск таймера при загрузке
  resetTimer();
});

</script>
</body>
</html>
